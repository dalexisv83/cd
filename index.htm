<!doctype html>
<html xmlns:ng="http://angularjs.org">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />
    <title>Cabling Diagram</title>
    <!--[if lt IE 9]>
    <script type="text/javascript" src="/js/matchmedia.polyfill.js"></script>
    <![endif]-->
    <script type="text/javascript" src="http://agentanswercenter.directv.com/en-us/res/system/js/angular.js"></script>
    <script type="text/javascript" src="http://agentanswercenter.directv.com/en-us/res/system/js/jquery.js"></script>
    <script type="text/javascript" src="js/zoomsl-3.0.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="controller/controller.js"></script>
    <script type="text/javascript" src="class/class.js"></script>
    <script type="text/javascript" src="data/data.js"></script>
    <link rel="stylesheet" type="text/css" href="style/csswizardry-grids/csswizardry-grids.css">
    <link rel="stylesheet" type="text/css" href="style/style.css" />
    <link rel="stylesheet" type="text/css" href="style/lines.css" />
    <!--[if lt IE 9]>
    <script type="text/javascript" src="js/respond.js"></script>
    <![endif]-->
</head>

<body ng-app="cablingDiagram">
    <div ng-controller="cablingDiagramController">
        <div class="grid">
        	<div class="header">
	        	<div class="grid__item one-half">
	        		<img src="http://agentanswercenter.directv.com/en-us/res/system/img/Logo_DTV_ATT.png">
	            </div>
	            <div class="grid__item one-half">
	                <h1 class="tool-title">Cabling Diagram</h1>
	            </div>
	        </div>
            <div class="grid__item palm-one-whole lap--one-third portable--one-quarter desk--one-fifth grey">
                <h2>Receiver</h2>
                <select ng-options="receiver.model for receiver in receiverArray" ng-model="optionSel">
                    <option value="">Choose Receiver Model</option>
                </select>
                <h2>Devices</h2>
                <ul>
                    <li class="no-decoration">
                        <label>
                            <input type="checkbox" checked disabled /><span>TV</span>
                        </label>
                    </li>
                    <li class="no-decoration" ng-repeat="tech in deviceArray">
                        <label>
                            <input type="checkbox" ng-model="tech.on" />{{tech.name}}
                        </label>
                    </li>
                </ul>
                <h2>Connections</h2>
                <ul>
                    <li class="no-decoration" ng-repeat="tech in connectionArray | matchReceiverConnections:optionSel">
                        <label>
                            <input type="checkbox" ng-model="tech.on" ng-disabled="tech.disabled" /><span ng-class="{'disabled': tech.disabled}">{{tech.name}}</span>
                        </label>
                    </li>
                </ul>
            </div>
            <div class="grid__item palm-one-whole lap--two-thirds portable--three-quarters desk--four-fifths stage">
                <div class="grid">
                    <div class="grid__item modal" ng-repeat="item in items | filter:{ detail: true }">
                        <div class="grid">
                            <div class="grid__item one-whole">
                                <button ng-click="item.detail = false">close</button>
                            </div>
                            <div class="grid__item palm--one-whole one-half">
                                <div class="diagram">
                                    <div class="grid--full">
                                        <div class="grid__item four-fifths devices">
                                            <div class="tv">
                                                <img ng-src="img/tvpanel.png" data-large="img/tvpanel.png" magnify="zoomrange: [4,5], magnifiersize :  [150, 150]" />
                                            </div>
                                            <div class="rec">
                                                <span ng-if="!optionSel.model">DIRECTV</span><br />
                                                <img ng-if="optionSel.model" ng-src="http://agentanswercenterstg.directv.com/en-us/res/system/img/{{optionSel.model}}_back.jpg" data-large="http://agentanswercenterstg.directv.com/en-us/res/system/img/{{optionSel.model}}_back.jpg" magnify="zoomrange: [4,5], magnifiersize :  [150, 150]"  />
                                            </div>
                                            <div ng-repeat="device in item.device" ng-bind="device" class="{{device | lowercase | spcToHyphen}}"></div>
                                        </div><!-- 
                                     --><div class="grid__item one-fifth setup">
                                            <div class="step-{{step + 1}}" ng-repeat="(step, setup) in item.setup track by $index" ng-class="{
                                            'level-{{setup[0]}}': {{setup[0]}} < {{setup[1]}},
                                            'level-{{setup[1]}}': {{setup[1]}} < {{setup[0]}},
                                            'height-{{setup[0] - setup[1]}}': {{setup[0]}} > {{setup[1]}},
                                            'height-{{setup[1] - setup[0]}}': {{setup[1]}} > {{setup[0]}},
                                            'up': {{setup[0]}} > {{setup[1]}},
                                            'down': {{setup[1]}} > {{setup[0]}}
                                            }">
                                                <img class="horz" ng-src="img/{{$index + 1}}-{{setup[0]}}-3x.png" />
                                                <img class="horz" ng-src="img/{{$index + 1}}-{{setup[1]}}-3x.png" />
                                                <div class="vert">
                                                    <img ng-src="img/{{$index + 1}}-0-3x.png" />
                                                </div>
                                                <div class="arrow">
                                                    <img ng-src="img/{{$index + 1}}-a-3x.png" />
                                                </div>
                                            </div>
                                        </div><!--
                                 --></div>
                                </div>
                            </div>
                            <div class="grid__item palm--one-whole one-half">
                                <div ng-repeat="(no, step) in item.instructions track by $index" class="instructions step-{{no + 1}}">
                                    <div class="conBorder">
                                        <img ng-src="http://agentanswercenterstg.directv.com/en-us/res/images/conn_{{item.connection[no]}}.jpg" data-large="http://agentanswercenterstg.directv.com/en-us/res/images/conn_{{item.connection[no]}}.jpg" magnify />
                                    </div>
                                    <b>{{no + 1}}.</b> <span compile="step"></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="grid">
                    <div class="grid__item">
                        <h2 ng-if="!items.length">There are no diagrams available for the options selected</h2>
                    </div>
                    <div class="grid__item palm--one-whole lap--one-half portable--one-third desk--one-quarter" ng-repeat="portfolioItem in items = (portfolioArray | matchDevices:deviceArray | removeDisabled:connectionArray | matchConnections:connectionArray)" ng-click="portfolioItem.detail = true">
                        <div class="diagram preview">
                            <div class="grid--full">
                                <div class="grid__item four-fifths devices">
                                    <div class="tv">TV</div>
                                    <div class="rec">
                                        <span ng-bind="optionSel.model | ternary:'DIRECTV'"></span>
                                    </div>
                                    <div ng-repeat="device in portfolioItem.device" ng-bind="device" class="{{device | lowercase | spcToHyphen}}"></div>
                                </div><!--
                             --><div class="grid__item one-fifth setup">
                                    <div class="step-{{step + 1}}" ng-repeat="(step, setup) in portfolioItem.setup track by $index" ng-class="{
                                    'level-{{setup[0]}}': {{setup[0]}} < {{setup[1]}},
                                    'level-{{setup[1]}}': {{setup[1]}} < {{setup[0]}},
                                    'height-{{setup[0] - setup[1]}}': {{setup[0]}} > {{setup[1]}},
                                    'height-{{setup[1] - setup[0]}}': {{setup[1]}} > {{setup[0]}},
                                    'up': {{setup[0]}} > {{setup[1]}},
                                    'down': {{setup[1]}} > {{setup[0]}}
                                    }">
                                        <img class="horz" ng-src="img/{{$index + 1}}-{{setup[0]}}.png" />
                                        <img class="horz" ng-src="img/{{$index + 1}}-{{setup[1]}}.png" />
                                        <div class="vert">
                                            <img ng-src="img/{{$index + 1}}-0.png" />
                                        </div>
                                        <div class="arrow">
                                            <img ng-src="img/{{$index + 1}}-a.png" />
                                        </div>
                                    </div>
                                </div><!--
                             --><div class="grid__item one-whole">
                                    <span class="step-{{$index + 1}}" ng-repeat="connection in portfolioItem.connection track by $index">{{connection}}<span ng-if="!$last">, </span></span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    </div>
    <!-- End controller -->
</body>

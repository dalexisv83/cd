<html>

<head>
    <meta charset="utf-8">
    <title>Cabling Diagram Unit Tests</title>
    <link rel="stylesheet" href="//code.jquery.com/qunit/qunit-1.19.0.css">
    <script src="https://code.jquery.com/jquery-1.11.3.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://agentanswercenter.directv.com/en-us/res/system/js/angular.js"></script>
    <script type="text/javascript" src="../js/app.js"></script>
    <script type="text/javascript" src="../controller/controller.js"></script>
    <script src="//code.jquery.com/qunit/qunit-1.19.0.js"></script>
    <script type="text/javascript" src="../data/data.js"></script>
    <script src="../js/class.js"></script>
    <script type="text/javascript">
    var ctrl, ctrlScope, service_locator, filters;
    module("Testing controller", {
        setup: function() {
            angular.module('cablingDiagram');
            service_locator = angular.injector(['ng', 'cablingDiagram']);

            ctrlScope = service_locator.get('$rootScope').$new();

            filters = service_locator.get("$filter");

        },
        teardown: function() {

        }
    });



    QUnit.test("pushUnique", function(assert) {

        var testArray = ["hello"];
        var testItem = "world";
        assert.equal(pushUnique(testItem, testArray), true);

        var testItem = "hello";
        assert.equal(pushUnique(testItem, testArray), false);

        var testItem = "";
        assert.equal(pushUnique(testItem, testArray), false);

    })

    QUnit.test("getCheckedConnections", function(assert) {
        var connectionsTest = [{
            "name": "David",
            "on": true
        }, {
            "name": "Cloud",
            "on": false
        }];
        assert.deepEqual(getCheckedConnections(connectionsTest), ["David"]);

        var connectionsTest = [{
            name: "David",
            on: true
        }, {
            name: "Cloud",
            on: false
        }, {
            name: "Jose",
            on: 1
        }];
        assert.notDeepEqual(getCheckedConnections(connectionsTest), ["Cloud"]);
        assert.notDeepEqual(getCheckedConnections(connectionsTest), ["Jose"]);
    })
    </script>
</head>

<body>
    <div id="qunit"></div>
</body>

</html>
